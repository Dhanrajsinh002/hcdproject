<html>
    <head>
        <link rel="stylesheet" href="./css/mean_median_mode.css">
        <script src="./js/mean_median_mode.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <title>Mean Median Mode</title>
        <!-- <script>
            function calculateMMM(mmm_val) {
                $.ajax({
                    method: "post",
                    url: "./php/mean_median_mode_calculate.php",
                    data: {val_arr : mmm_val}
                }).done(function (response) {
                    console.log(response);
                    $("#subTable").html(response);
                })
            }
        </script> -->
    </head>
    <body class="bg-dark">
        <div class="well bg-transparent border-0 text-center">
            
            <table style="width: 100%; text-align: center;" id="mainTableMMM">
                <tr>
                    <th>
                        <div class="well bg-primary bg-opacity-50 border border-3 rounded-pill border-primary fs-1">
                            Mean - Median - Mode Calculator
                        </div>
                    </th>
                </tr>
                
                <tr>
                    <td>
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="well row mx-md-3 w-50">
                            
                                <!-- <form action="./PHP/mean_median_mode_calculate.php" method="post"> -->
                                <!-- <form> -->
                                <table style="margin: 0 auto; text-align: center; display: table;">
                                    <tr>
                                        <td>
                                            <label for="mmm_val">Enter Your Values to Calculate<br> Mean, Median & Mode: </label>
                                        </td>
                                        <td>
                                            <textarea class="form-control fs-3" cols="30" rows="5" id="mmm_val" name="mmm_val"
                                                placeholder="Enter Comma(,) separated values&#10;i.e. - 5,0,6.10,-8,6" required></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <input class="btn btn-primary m-lg-3 fs-4" type="submit"
                                                onclick="calculateMMM(document.getElementById('mmm_val').value)" value="Calculate" id="mmm_cal">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div class="bg-white">
                                                <table id="subTable" class="table table-bordered table-light table-hover table-striped text-center fs-3"></table>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <!-- </form> -->
                            </div>
                        </div>
                    </td>
                        
                </tr>
            </table>
        </div>
    </body>
    <script>

        const textarea = document.getElementById("mmm_val");
        const btn = document.getElementById("mmm_cal");

        if(textarea.value == "") {
            btn.disabled = true;
        }

        function checkInput() {
            // if((obj.value).match(/^[-+]?\d*\.?\d+(,\s*[-+]?\d*\.?\d+)*$/)) {
            if((textarea.value).match(/^[+-]?\d+(?:\.\d+)?(?:\s*,\s*[+-]?\d+(?:\.\d+)?)*$/)) {
                btn.disabled = false;
            } else if(textarea.value == "") {
                btn.disabled = true;
                // obj.setCustomValidity("empty input");
            } else {
                // obj.setCustomValidity("");
                btn.disabled = true;
                textarea.setCustomValidity("allows only numbers");
            }
        }

        textarea.addEventListener("input",checkInput);
    </script>
</html>